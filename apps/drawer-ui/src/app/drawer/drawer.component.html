<div class="flex gap-3">
  <button (click)="addRectangle()">Add Rectangle</button>
  <button (click)="addCircle()">Add Circle</button>
  <button (click)="clearCanvas()">Clear Canvas</button>
</div>

<canvas
  (mousedown)="startDrawing($event)"
  (mousemove)="handleMouseMove($event)"
  (mouseup)="stopDrawing()"
  #canvas
  height="600"
  width="800"
  class="cursor-auto bg-gray-50"
></canvas>
<button mat-button (click)="save()">Save</button>
<!-- 
{{ data() | json }} -->

<p>
  @for (shape of shapes(); track shape.color; let index = $index) {
    <div class="flex gap-3">
      <button (click)="selectShape(shape)">Select</button>
      <button (click)="deleteShape(shape)">Delete</button>

      <label (click)="shapeService.selectShape(shape)"
        >Color:
        <input
          type="color"
          [formControl]="shapeColorFormControl().at(index)"
          [value]="shape.color"
      /></label>
      <span>{{ shape.type }}</span>
    </div>
  }
</p>
